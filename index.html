<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data streams for R • streams</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Data streams for R">
<meta property="og:description" content="What the package does (one paragraph).">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">streams</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="streams">streams<a class="anchor" aria-label="anchor" href="#streams"></a>
</h1></div>
<!-- badges: start -->
<p>Data streams are an abstraction for flowing data – data that is not held in-memory, but is accessed lazily when needed by the consumer. In essence, a data stream is a data-processing object that sacrifices speed for memory optimisation.</p>
<p>Package Aims:</p>
<ul>
<li>Simple but extensible data streaming system</li>
<li>Easy to understand data flow state machine</li>
<li>Data agnostic</li>
</ul>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>Upon release, you can install streams from <a href="https://elianhugh.r-universe.dev/ui" class="external-link">my r-universe repo</a>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"streams"</span>, repos <span class="op">=</span> <span class="st">"https://elianhugh.r-universe.dev"</span><span class="op">)</span></code></pre></div>
<p>Alternatively, you can install the development version of streams from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("devtools")</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"ElianHugh/streams"</span><span class="op">)</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="examples">Examples<a class="anchor" aria-label="anchor" href="#examples"></a>
</h2>
<div class="section level3">
<h3 id="stream-creation">Stream creation<a class="anchor" aria-label="anchor" href="#stream-creation"></a>
</h3>
<p>The simplest form of stream creation comes from the <code>as_reader</code> and <code>as_writer</code> methods, which coerce a given object to a stream. See below for a <em>very</em> brief overview of the stream system.</p>
<div class="section level4">
<h4 id="readable-stream">Readable Stream<a class="anchor" aria-label="anchor" href="#readable-stream"></a>
</h4>
<p>Let’s create a read stream:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">stream</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/as_reader.html">as_reader</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span>
<span class="va">stream</span>
<span class="co">#&gt; # A data stream:</span>
<span class="co">#&gt;     source : function</span>
<span class="co">#&gt;     class : ReadableStream</span>
<span class="co">#&gt;     state : started</span>
<span class="co">#&gt;     can_read : TRUE</span>
<span class="co">#&gt;     can_write : FALSE</span>
<span class="co">#&gt;     desired_size : 1</span></code></pre></div>
<p>In this state, the stream will not output any data. We can attach a listener to cause the stream to flow:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">stream</span> |&gt;
  <span class="fu"><a href="reference/on.html">on</a></span><span class="op">(</span><span class="st">"data"</span>, <span class="va">print</span><span class="op">)</span>

<span class="co">#&gt; 1</span>
<span class="co">#&gt; 2</span>
<span class="co">#&gt; 3</span>
<span class="co">#&gt; 4</span>
<span class="co">#&gt; 5</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="writeable-stream">Writeable Stream<a class="anchor" aria-label="anchor" href="#writeable-stream"></a>
</h4>
<p>Similarly, we can create a write stream:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">stream</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/as_writer.html">as_writer</a></span><span class="op">(</span><span class="st">"x"</span><span class="op">)</span>
<span class="va">stream</span>
<span class="co">#&gt; # A data stream:</span>
<span class="co">#&gt;     sink : character</span>
<span class="co">#&gt;     class : WriteableStream</span>
<span class="co">#&gt;     state : started</span>
<span class="co">#&gt;     can_read : FALSE</span>
<span class="co">#&gt;     can_write : TRUE</span>
<span class="co">#&gt;     desired_size : 1</span></code></pre></div>
<p>We can then write data to the stream, which will write to the variable <code>x</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">stream</span><span class="op">$</span><span class="fu">write</span><span class="op">(</span><span class="st">"Hello world!"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] "Hello world!"</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="stream-piping">Stream Piping<a class="anchor" aria-label="anchor" href="#stream-piping"></a>
</h4>
<p>We can pull all these together with the <code>%|&gt;%</code> (stream pipe) command. Not to be confused with the base <code>|&gt;</code> or magrittr <code>%&gt;%</code> pipe, the stream pipe command is used to chain streams together.</p>
<p>Let’s try chaining the previous streams together:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/as_reader.html">as_reader</a></span><span class="op">(</span><span class="fl">1L</span><span class="op">:</span><span class="fl">5L</span><span class="op">)</span> <span class="op"><a href="reference/streampipe.html">%|&gt;%</a></span>
  <span class="fu"><a href="reference/as_writer.html">as_writer</a></span><span class="op">(</span><span class="st">"x"</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; [1] 1 2 3 4 5</span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="inspiration">Inspiration<a class="anchor" aria-label="anchor" href="#inspiration"></a>
</h2>
<p>This package could not have been developed without the existence of data streams in many other programming languages. In particular, the NodeJS and web stream standard were instrumental in the design of {streams}.</p>
<ul>
<li><a href="https://nodejs.org/api/stream.html" class="external-link">NodeJS streams</a></li>
<li><a href="https://streams.spec.whatwg.org/" class="external-link">WHATWG Web Stream standard</a></li>
<li><a href="https://www.npmjs.com/package/functional-streams" class="external-link">Functional streams</a></li>
<li><a href="https://github.com/lewisdiamond/stromjs" class="external-link">Stromjs</a></li>
</ul>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the streams project is released with a <a href="https://elianhugh.github.io/streams/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://elianhugh.github.io/streams">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>GPL (&gt;= 3)</small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing streams</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Elian Thiele-Evans <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-8008-3165" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://elianhugh.r-universe.dev" class="external-link"><img src="https://elianhugh.r-universe.dev/badges/:name" alt=":name status badge"></a></li>
<li><a href="https://www.tidyverse.org/lifecycle/#experimental" class="external-link"><img src="https://img.shields.io/badge/lifecycle-experimental-orange.svg" alt="Lifecycle: experimental"></a></li>
<li><a href="https://github.com/ElianHugh/streams/actions" class="external-link"><img src="https://github.com/ElianHugh/streams/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://app.codecov.io/gh/ElianHugh/streams?branch=main" class="external-link"><img src="https://codecov.io/gh/ElianHugh/streams/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Elian Thiele-Evans.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
